<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>NutriPOS – Custom Product Builder</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .grid { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr auto; gap: 8px; align-items: start; }
    .grid > * { padding: 6px; }
    .ingredients { margin-top: 12px; }
    .row { border-bottom: 1px solid #eee; padding-bottom: 6px; position: relative; }
    .btn { padding: 8px 12px; cursor: pointer; }
    .btn.primary { background: #0a7; color: white; border: none; border-radius: 6px; }
    .btn.ghost { background: transparent; border: 1px solid #ccc; border-radius: 6px; }
    .totals { background: #fafafa; border: 1px solid #eee; padding: 12px; border-radius: 8px; margin-top: 16px; }
    #qrcode { margin-top: 12px; }
    input[type=number] { width: 100%; }
    .muted { color: #666; font-size: 12px; }
    .flex { display: flex; gap: 8px; align-items: center; }
    .ac-wrap { position: relative; }
    .ac-list { position: absolute; top: 100%; left: 0; right: 0; z-index: 10; background: #fff; border: 1px solid #ddd; border-radius: 6px; box-shadow: 0 4px 16px rgba(0,0,0,0.08); max-height: 260px; overflow: auto; margin-top: 2px; }
    .ac-item { padding: 8px 10px; cursor: pointer; display: grid; grid-template-columns: 1fr auto; gap: 6px; align-items: center; }
    .ac-item:hover, .ac-item.active { background: #f6f6f6; }
    .ac-name { font-weight: 600; }
    .ac-meta { font-size: 12px; color: #666; }
    .pill { background:#eef; color:#335; border-radius: 999px; padding:2px 8px; font-size: 12px; display:inline-block; margin-right: 4px;}
    mark { background: #ffec99; padding: 0 2px; }
  </style>
</head>
<body>
  <h1>NutriPOS – Custom Product Builder</h1>
  <div class="flex">
    <input id="productName" placeholder="Product name e.g. Beef Burger" style="flex:1;padding:8px" />
    <button id="saveBtn" class="btn primary">Save Product</button>
    <a class="btn ghost" href="products.html">View Saved Products</a>
  </div>
  <p class="muted">Type to search AFCD. Suggestions include code, category and nutrients. Click to fill the code automatically.</p>

  <div class="grid" style="font-weight:bold; margin-top:10px">
    <div>Ingredient Name</div>
    <div>AFCD Code (optional)</div>
    <div>Notes</div>
    <div>Weight (g)</div>
    <div></div>
  </div>
  <div id="ingredients" class="ingredients"></div>
  <button id="addRow" class="btn ghost" style="margin-top:8px">+ Add Ingredient</button>
  <button id="calcBtn" class="btn primary" style="margin-top:8px">Calculate Nutrition</button>

  <div id="result" class="totals" style="display:none"></div>
  <div id="qrcode"></div>

  <script src="qr-code.min.js"></script>
  <script src="products.js"></script>
</body>
</html>
